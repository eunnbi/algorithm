#include <bits/stdc++.h>
using namespace std;

int arr[100002]; // κ° μ •μ μ΄ κ°€λ¦¬ν‚¤λ” λ€μƒ
int state[100002]; // μ •μ μ μƒνƒ μ •λ³΄ 
const int NOT_VISITED = 0; // λ°©λ¬Έν•μ§€ μ•μ€ μƒνƒ
const int CYCLED_IN = -1; // μ‚¬μ΄ν΄μ— ν¬ν•¨λ μƒνƒ

void run(int i) {
	int cur = i; // μ‹μ‘μ μ μΈλ±μ¤
	while (true) {
		state[cur] = i; // μ΄λ²μ— λ°©λ¬Έν• μ •μ μ„μ„ ν‘μ‹
		cur = arr[cur];

		// μ΄λ²μ— λ°©λ¬Έν• μ •μ μ— λ„λ‹¬ν–μ„ κ²½μ° => μ¦‰ μ‚¬μ΄ν΄ λ°κ²¬
		if (state[cur] == i) {
            // state λ°°μ—΄ κ°’μ„ CYCLED_INμΌλ΅ λ³€κ²½
			while (state[cur] != CYCLED_IN) {
				state[cur] = CYCLED_IN;
				cur = arr[cur];
			}
			return;
		}

		// μ΄λ―Έ μ΄μ „μ— λ°©λ¬Έν–λ μ •μ μ— λ„λ‹¬ν–μ„ κ²½μ°
		else if (state[cur] != NOT_VISITED) return;
	}
}

int main() {
	int T;
	cin >> T;
	while (T--) {
		int n; // μ •μ  κ°μ
		cin >> n;
		fill(state + 1, state + n + 1, 0); // state λ°°μ—΄ μ΄κΈ°ν™” (1-based indexing)

		for (int i = 1; i <= n; i++) {
			cin >> arr[i];
			if (arr[i] == i) state[i] = CYCLED_IN; // μκΈ° μμ‹  μ„ νƒν• κ²½μ°
		}

		for (int i = 1; i <= n; i++) {
			if (state[i] == NOT_VISITED) run(i); // μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ μ •μ μ— λ€ν•΄ run ν•¨μ μ‹¤ν–‰
		}


        // μ‚¬μ΄ν΄μ— ν¬ν•¨λμ§€ μ•μ€ μ •μ  κ°μ μ„ΈκΈ°
		int cnt = 0;
		for (int i = 1; i <= n; i++) {
			if (state[i] != CYCLED_IN) cnt++;
		}
		cout << cnt << '\n';
	}
	return 0;
}
/*
π’΅ λ¬Έμ  νμ•… => λ°©ν–¥ κ·Έλν”„μ—μ„ μ‚¬μ΄ν΄μ— ν¬ν•¨λμ§€ μ•λ” μ •μ μ κ°μλ¥Ό κµ¬ν•λ” λ¬Έμ μ΄λ‹¤.
1. μ‚¬μ΄ν΄μ„ μ–΄λ–»κ² λ°κ²¬ν•λ”κ°€?
    - ν„μ¬ μ§„ν–‰λκ³  μλ” νƒμƒ‰μ—μ„ μ§€λ‚κ°„ μ •μ μ— λ„λ‹¬ν–μ„ λ• μ‚¬μ΄ν΄μ΄ ν•μ„±λλ‹¤.
    - π€ μ΄λ• μ΄μ „μ— λ°©λ¬Έν–λ μ •μ κ³Ό ν„μ¬ μ§„ν–‰λκ³  μλ” νƒμƒ‰μ—μ„ λ°©λ¬Έν–λ μ •μ μ„ κµ¬λ¶„ν•΄μ•Ό ν•λ‹¤.
2. μ •μ μ μƒνƒ κµ¬λ¶„
    - λ°©λ¬Έν•μ§€ μ•μ€ μ •μ  => !λ°©λ¬Έν•μ§€ μ•μ€ μ •μ  == μ΄λ―Έ λ°©λ¬Έν• μ •μ 
    - μ‚¬μ΄ν΄μ— ν¬ν•¨λ μ •μ  => !μ‚¬μ΄ν΄μ— ν¬ν•¨λ μ •μ  == μ‚¬μ΄ν΄μ— ν¬ν•¨λμ§€ μ•μ€ μ •μ 


π’ μ •μ μ λ°©λ¬Έ μƒνƒλ¥Ό μ²΄ν¬ν•  λΏλ§ μ•„λ‹λΌ μ‚¬μ΄ν΄ ν¬ν•¨ μ—¬λ¶€μ— λ€ν• μ •λ³΄λ„ κ°™μ΄ μ €μ¥ν•λ” λ°°μ—΄μ„ μ΄μ©ν•΄μ•Ό ν•λ‹¤.
*/


// https://www.acmicpc.net/problem/9466